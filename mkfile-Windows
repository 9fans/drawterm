WIN=win
SYS=win32
OS=WinXP
objtype=386
BIN=$9pm/bin
DSRC=C:/src/dt2k

# compiler, linker, librarian
CC=cl
LD=link
AR=lib
AS=ml
RC=rc

# file extensions
O=obj
L=lib
CPUS=
CFLAGS=-c -nologo -W3 -YX -Zi -MT -Zl -I. -I$DSRC -I$DSRC/include -I$DSRC/kern -DWINDOWS
# -nologo	a little less verbose
# -W3		level 3 warning - u.h contains pragma's that inhibit some of the very silly warnings
# -YX		use precompiled headers (.PCH files)
# -G5		generate code that runs best on Pentiums - has bugs on 4.2
# -Zi		generate debug info (.PDB files)
# -MT		Link with LIBCMT.LIB (multi thread static)
# -Zl 		don't include libcmt.lib and oldnames.lib in object files
# -Oi		enable intrinic function, i.e abs, sin, sqrt, etc
# -FAs		generate asm listing with source
# -G5		Pentium code
# -Ob2		Let the compiler inline function -O2 only inlines functions marked inline
# -Fr or -FR	generate .SBR files (browsing information) without or with local symbols

OSLIBS=\
	drawterm.res\
	libcmt.lib\
	oldnames.lib\
	user32.lib\
	advapi32.lib\
	kernel32.lib\
	gdi32.lib\

LDFLAGS=-entry:mainCRTStartup -debug -nologo -incremental:no
#-nodefaultlib:libcmt.lib -nodefaultlib:oldnames.lib 
#TARG=drawterm.exe
LDFLAGS=-nologo -incremental:no -debug -subsystem:windows -out:drawterm.exe
ARFLAGS=-nologo

# System specific targets
DEVFS=devntfs
DEVIP=devip-win
OSHOOKS=os-windows

%.res:	%.rc
	$RC $RCFLAGS $stem.rc
